# =============================================================================
# EdgeOS Environment Configuration
# =============================================================================
# Copy this file to .env and configure the values below.
# Required variables are marked with (REQUIRED)
# =============================================================================

# Domain Configuration
# -----------------------------------------------------------------------------
BACKOFFICE_URL=http://localhost:5173
BACKEND_URL=http://localhost:8000
PORTAL_URL=http://localhost:3000

ENVIRONMENT=dev

# Project
# -----------------------------------------------------------------------------
PROJECT_NAME=EdgeOS

# Backend Configuration (REQUIRED)
# -----------------------------------------------------------------------------
# CORS origins - comma separated list of allowed origins
BACKEND_CORS_ORIGINS="http://localhost,http://localhost:5173,https://localhost,https://localhost:5173"

# Secret key for JWT tokens - generate with: openssl rand -hex 32
SECRET_KEY=changeme-generate-a-secure-key

# Initial superadmin account (REQUIRED)
SUPERADMIN=admin@example.com

# Database Configuration (REQUIRED)
# -----------------------------------------------------------------------------
# Use 'db' for Docker Compose, or your database host for external databases
POSTGRES_SERVER=db
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=changeme-use-a-strong-password
POSTGRES_DB=edgeos
# Use "prefer" for local dev, "require" for production
POSTGRES_SSL_MODE=prefer

# Email Configuration (Optional but recommended for auth)
# -----------------------------------------------------------------------------
# Without email config, passwordless login won't work
SMTP_HOST=
SMTP_USER=
SMTP_PASSWORD=
SENDER_EMAIL=noreply@example.com
SMTP_TLS=True
SMTP_SSL=False
SMTP_PORT=587

# Error Tracking (Optional)
# -----------------------------------------------------------------------------
SENTRY_DSN=

# File Storage Configuration (Optional)
# -----------------------------------------------------------------------------
# S3-compatible storage for file uploads
# For local development, you can use MinIO
STORAGE_ENDPOINT_URL=http://localhost:9000
STORAGE_ACCESS_KEY=minioadmin
STORAGE_SECRET_KEY=minioadmin
STORAGE_BUCKET=edgeos
STORAGE_REGION=us-east-2
STORAGE_PUBLIC_URL=http://localhost:9000/edgeos

# Redis Configuration (Optional)
# -----------------------------------------------------------------------------
REDIS_URL=redis://redis:6379

# =============================================================================
# Production Notes
# =============================================================================
# 1. Generate a secure SECRET_KEY: openssl rand -hex 32
# 2. Use strong passwords for POSTGRES_PASSWORD
# 3. Set POSTGRES_SSL_MODE=require for production databases
# 4. Configure SMTP for passwordless authentication to work
# 5. Set up SENTRY_DSN for error tracking in production
# 6. Use a managed S3-compatible storage service for file uploads
# =============================================================================
